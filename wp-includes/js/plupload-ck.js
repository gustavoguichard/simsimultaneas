/*1.5.4*/(function(){function k(){this.returnValue=!1}function l(){this.cancelBubble=!0}var a=0,b=[],c={},d={},e={"<":"lt",">":"gt","&":"amp",'"':"quot","'":"#39"},f=/[<>&\"\']/g,g,h=window.setTimeout,i={},j;(function(a){var b=a.split(/,/),c,e,f;for(c=0;c<b.length;c+=2){f=b[c+1].split(/ /);for(e=0;e<f.length;e++)d[f[e]]=b[c]}})("application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.template,potx,application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,application/x-javascript,js,application/json,json,audio/mpeg,mpga mpega mp2 mp3,audio/x-wav,wav,audio/mp4,m4a,image/bmp,bmp,image/gif,gif,image/jpeg,jpeg jpg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/plain,asc txt text diff log,text/html,htm html xhtml,text/css,css,text/csv,csv,text/rtf,rtf,video/mpeg,mpeg mpg mpe,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/vnd.rn-realvideo,rv,application/vnd.oasis.opendocument.formula-template,otf,application/octet-stream,exe");var m={VERSION:"1.5.4",STOPPED:1,STARTED:2,QUEUED:1,UPLOADING:2,FAILED:4,DONE:5,GENERIC_ERROR:-100,HTTP_ERROR:-200,IO_ERROR:-300,SECURITY_ERROR:-400,INIT_ERROR:-500,FILE_SIZE_ERROR:-600,FILE_EXTENSION_ERROR:-601,IMAGE_FORMAT_ERROR:-700,IMAGE_MEMORY_ERROR:-701,IMAGE_DIMENSIONS_ERROR:-702,mimeTypes:d,ua:function(){var a=navigator,b=a.userAgent,c=a.vendor,d,e,f;d=/WebKit/.test(b);f=d&&c.indexOf("Apple")!==-1;e=window.opera&&window.opera.buildNumber;return{windows:navigator.platform.indexOf("Win")!==-1,ie:!d&&!e&&/MSIE/gi.test(b)&&/Explorer/gi.test(a.appName),webkit:d,gecko:!d&&/Gecko/.test(b),safari:f,opera:!!e}}(),typeOf:function(a){return{}.toString.call(a).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},extend:function(a){m.each(arguments,function(b,c){c>0&&m.each(b,function(b,c){a[c]=b})});return a},cleanName:function(a){var b,c;c=[/[\300-\306]/g,"A",/[\340-\346]/g,"a",/\307/g,"C",/\347/g,"c",/[\310-\313]/g,"E",/[\350-\353]/g,"e",/[\314-\317]/g,"I",/[\354-\357]/g,"i",/\321/g,"N",/\361/g,"n",/[\322-\330]/g,"O",/[\362-\370]/g,"o",/[\331-\334]/g,"U",/[\371-\374]/g,"u"];for(b=0;b<c.length;b+=2)a=a.replace(c[b],c[b+1]);a=a.replace(/\s+/g,"_");a=a.replace(/[^a-z0-9_\-\.]+/gi,"");return a},addRuntime:function(a,c){c.name=a;b[a]=c;b.push(c);return c},guid:function(){var b=(new Date).getTime().toString(32),c;for(c=0;c<5;c++)b+=Math.floor(Math.random()*65535).toString(32);return(m.guidPrefix||"p")+b+(a++).toString(32)},buildUrl:function(a,b){var c="";m.each(b,function(a,b){c+=(c?"&":"")+encodeURIComponent(b)+"="+encodeURIComponent(a)});c&&(a+=(a.indexOf("?")>0?"&":"?")+c);return a},each:function(a,b){var c,d,e;if(a){c=a.length;if(c===g){for(d in a)if(a.hasOwnProperty(d)&&b(a[d],d)===!1)return}else for(e=0;e<c;e++)if(b(a[e],e)===!1)return}},formatSize:function(a){return a===g||/\D/.test(a)?m.translate("N/A"):a>1073741824?Math.round(a/1073741824,1)+" GB":a>1048576?Math.round(a/1048576,1)+" MB":a>1024?Math.round(a/1024,1)+" KB":a+" b"},getPos:function(a,b){function i(a){var b,c,d=0,e=0;if(a){c=a.getBoundingClientRect();b=f.compatMode==="CSS1Compat"?f.documentElement:f.body;d=c.left+b.scrollLeft;e=c.top+b.scrollTop}return{x:d,y:e}}var c=0,d=0,e,f=document,g,h;a=a;b=b||f.body;if(a&&a.getBoundingClientRect&&navigator.userAgent.indexOf("MSIE")>0&&f.documentMode<8){g=i(a);h=i(b);return{x:g.x-h.x,y:g.y-h.y}}e=a;while(e&&e!=b&&e.nodeType){c+=e.offsetLeft||0;d+=e.offsetTop||0;e=e.offsetParent}e=a.parentNode;while(e&&e!=b&&e.nodeType){c-=e.scrollLeft||0;d-=e.scrollTop||0;e=e.parentNode}return{x:c,y:d}},getSize:function(a){return{w:a.offsetWidth||a.clientWidth,h:a.offsetHeight||a.clientHeight}},parseSize:function(a){var b;if(typeof a=="string"){a=/^([0-9]+)([mgk]?)$/.exec(a.toLowerCase().replace(/[^0-9mkg]/g,""));b=a[2];a=+a[1];b=="g"&&(a*=1073741824);b=="m"&&(a*=1048576);b=="k"&&(a*=1024)}return a},xmlEncode:function(a){return a?(""+a).replace(f,function(a){return e[a]?"&"+e[a]+";":a}):a},toArray:function(a){var b,c=[];for(b=0;b<a.length;b++)c[b]=a[b];return c},inArray:function(a,b){if(b){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(b,a);for(var c=0,d=b.length;c<d;c++)if(b[c]===a)return c}return-1},addI18n:function(a){return m.extend(c,a)},translate:function(a){return c[a]||a},isEmptyObj:function(a){if(a===g)return!0;for(var b in a)return!1;return!0},hasClass:function(a,b){var c;if(a.className=="")return!1;c=new RegExp("(^|\\s+)"+b+"(\\s+|$)");return c.test(a.className)},addClass:function(a,b){m.hasClass(a,b)||(a.className=a.className==""?b:a.className.replace(/\s+$/,"")+" "+b)},removeClass:function(a,b){var c=new RegExp("(^|\\s+)"+b+"(\\s+|$)");a.className=a.className.replace(c,function(a,b,c){return b===" "&&c===" "?" ":""})},getStyle:function(a,b){if(a.currentStyle)return a.currentStyle[b];if(window.getComputedStyle)return window.getComputedStyle(a,null)[b]},addEvent:function(a,b,c){var d,e,f,h;h=arguments[3];b=b.toLowerCase();j===g&&(j="Plupload_"+m.guid());if(a.addEventListener){d=c;a.addEventListener(b,d,!1)}else if(a.attachEvent){d=function(){var a=window.event;a.target||(a.target=a.srcElement);a.preventDefault=k;a.stopPropagation=l;c(a)};a.attachEvent("on"+b,d)}a[j]===g&&(a[j]=m.guid());i.hasOwnProperty(a[j])||(i[a[j]]={});e=i[a[j]];e.hasOwnProperty(b)||(e[b]=[]);e[b].push({func:d,orig:c,key:h})},removeEvent:function(a,b){var c,d,e;typeof arguments[2]=="function"?d=arguments[2]:e=arguments[2];b=b.toLowerCase();if(!(a[j]&&i[a[j]]&&i[a[j]][b]))return;c=i[a[j]][b];for(var f=c.length-1;f>=0;f--)if(c[f].key===e||c[f].orig===d){a.removeEventListener?a.removeEventListener(b,c[f].func,!1):a.detachEvent&&a.detachEvent("on"+b,c[f].func);c[f].orig=null;c[f].func=null;c.splice(f,1);if(d!==g)break}c.length||delete i[a[j]][b];if(m.isEmptyObj(i[a[j]])){delete i[a[j]];try{delete a[j]}catch(h){a[j]=g}}},removeAllEvents:function(a){var b=arguments[1];if(a[j]===g||!a[j])return;m.each(i[a[j]],function(c,d){m.removeEvent(a,d,b)})}};m.Uploader=function(a){function j(){var a,b=0,c;if(this.state==m.STARTED){for(c=0;c<e.length;c++)if(!a&&e[c].status==m.QUEUED){a=e[c];a.status=m.UPLOADING;this.trigger("BeforeUpload",a)&&this.trigger("UploadFile",a)}else b++;if(b==e.length){this.stop();this.trigger("UploadComplete",e)}}}function k(){var a,b;d.reset();for(a=0;a<e.length;a++){b=e[a];if(b.size!==g){d.size+=b.size;d.loaded+=b.loaded}else d.size=g;b.status==m.DONE?d.uploaded++:b.status==m.FAILED?d.failed++:d.queued++}if(d.size===g)d.percent=e.length>0?Math.ceil(d.uploaded/e.length*100):0;else{d.bytesPerSec=Math.ceil(d.loaded/((+(new Date)-f||1)/1e3));d.percent=d.size>0?Math.ceil(d.loaded/d.size*100):0}}var c={},d,e=[],f,i=!1;d=new m.QueueProgress;a=m.extend({chunk_size:0,multipart:!0,multi_selection:!0,file_data_name:"file",filters:[]},a);m.extend(this,{state:m.STOPPED,runtime:"",features:{},files:e,settings:a,total:d,id:m.guid(),init:function(){function u(){var a=i[o++],b,d,e;if(a){b=a.getFeatures();d=c.settings.required_features;if(d){d=d.split(",");for(e=0;e<d.length;e++)if(!b[d[e]]){u();return}}a.init(c,function(d){if(d&&d.success){c.features=b;c.runtime=a.name;c.trigger("Init",{runtime:a.name});c.trigger("PostInit");c.refresh()}else u()})}else c.trigger("Error",{code:m.INIT_ERROR,message:m.translate("Init error.")})}var c=this,d,i,l,o=0,p;typeof a.preinit=="function"?a.preinit(c):m.each(a.preinit,function(a,b){c.bind(b,a)});a.page_url=a.page_url||document.location.pathname.replace(/\/[^\/]+$/g,"/");/^(\w+:\/\/|\/)/.test(a.url)||(a.url=a.page_url+a.url);a.chunk_size=m.parseSize(a.chunk_size);a.max_file_size=m.parseSize(a.max_file_size);c.bind("FilesAdded",function(b,d){var f,i,j=0,k,l=a.filters;if(l&&l.length){k=[];m.each(l,function(a){m.each(a.extensions.split(/,/),function(a){/^\s*\*\s*$/.test(a)?k.push("\\.*"):k.push("\\."+a.replace(new RegExp("["+"/^$.*+?|()[]{}\\".replace(/./g,"\\$&")+"]","g"),"\\$&"))})});k=new RegExp(k.join("|")+"$","i")}for(f=0;f<d.length;f++){i=d[f];i.loaded=0;i.percent=0;i.status=m.QUEUED;if(k&&!k.test(i.name)){b.trigger("Error",{code:m.FILE_EXTENSION_ERROR,message:m.translate("File extension error."),file:i});continue}if(i.size!==g&&i.size>a.max_file_size){b.trigger("Error",{code:m.FILE_SIZE_ERROR,message:m.translate("File size error."),file:i});continue}e.push(i);j++}if(!j)return!1;h(function(){c.trigger("QueueChanged");c.refresh()},1)});a.unique_names&&c.bind("UploadFile",function(a,b){var c=b.name.match(/\.([^.]+)$/),d="tmp";c&&(d=c[1]);b.target_name=b.id+"."+d});c.bind("UploadProgress",function(a,b){b.percent=b.size>0?Math.ceil(b.loaded/b.size*100):100;k()});c.bind("StateChanged",function(a){if(a.state==m.STARTED)f=+(new Date);else if(a.state==m.STOPPED)for(d=a.files.length-1;d>=0;d--)if(a.files[d].status==m.UPLOADING){a.files[d].status=m.QUEUED;k()}});c.bind("QueueChanged",k);c.bind("Error",function(a,b){if(b.file){b.file.status=m.FAILED;k();a.state==m.STARTED&&h(function(){j.call(c)},1)}});c.bind("FileUploaded",function(a,b){b.status=m.DONE;b.loaded=b.size;a.trigger("UploadProgress",b);h(function(){j.call(c)},1)});if(a.runtimes){i=[];p=a.runtimes.split(/\s?,\s?/);for(d=0;d<p.length;d++)b[p[d]]&&i.push(b[p[d]])}else i=b;u();typeof a.init=="function"?a.init(c):m.each(a.init,function(a,b){c.bind(b,a)})},refresh:function(){this.trigger("Refresh")},start:function(){if(e.length&&this.state!=m.STARTED){this.state=m.STARTED;this.trigger("StateChanged");j.call(this)}},stop:function(){if(this.state!=m.STOPPED){this.state=m.STOPPED;this.trigger("CancelUpload");this.trigger("StateChanged")}},disableBrowse:function(){i=arguments[0]!==g?arguments[0]:!0;this.trigger("DisableBrowse",i)},getFile:function(a){var b;for(b=e.length-1;b>=0;b--)if(e[b].id===a)return e[b]},removeFile:function(a){var b;for(b=e.length-1;b>=0;b--)if(e[b].id===a.id)return this.splice(b,1)[0]},splice:function(a,b){var c;c=e.splice(a===g?0:a,b===g?e.length:b);this.trigger("FilesRemoved",c);this.trigger("QueueChanged");return c},trigger:function(a){var b=c[a.toLowerCase()],d,e;if(b){e=Array.prototype.slice.call(arguments);e[0]=this;for(d=0;d<b.length;d++)if(b[d].func.apply(b[d].scope,e)===!1)return!1}return!0},hasEventListener:function(a){return!!c[a.toLowerCase()]},bind:function(a,b,d){var e;a=a.toLowerCase();e=c[a]||[];e.push({func:b,scope:d||this});c[a]=e},unbind:function(a){a=a.toLowerCase();var b=c[a],d,e=arguments[1];if(b){if(e!==g){for(d=b.length-1;d>=0;d--)if(b[d].func===e){b.splice(d,1);break}}else b=[];b.length||delete c[a]}},unbindAll:function(){var a=this;m.each(c,function(b,c){a.unbind(c)})},destroy:function(){this.stop();this.trigger("Destroy");this.unbindAll()}})};m.File=function(a,b,c){var d=this;d.id=a;d.name=b;d.size=c;d.loaded=0;d.percent=0;d.status=0};m.Runtime=function(){this.getFeatures=function(){};this.init=function(a,b){}};m.QueueProgress=function(){var a=this;a.size=0;a.loaded=0;a.uploaded=0;a.failed=0;a.queued=0;a.percent=0;a.bytesPerSec=0;a.reset=function(){a.size=a.loaded=a.uploaded=a.failed=a.queued=a.percent=a.bytesPerSec=0}};m.runtimes={};window.plupload=m})();