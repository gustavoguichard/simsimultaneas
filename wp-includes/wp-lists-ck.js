(function(a){var b={add:"ajaxAdd",del:"ajaxDel",dim:"ajaxDim",process:"process",recolor:"recolor"},c;c={settings:{url:ajaxurl,type:"POST",response:"ajax-response",what:"",alt:"alternate",altOffset:0,addColor:null,delColor:null,dimAddColor:null,dimDelColor:null,confirm:null,addBefore:null,addAfter:null,delBefore:null,delAfter:null,dimBefore:null,dimAfter:null},nonce:function(b,c){var d=wpAjax.unserialize(b.attr("href"));return c.nonce||d._ajax_nonce||a("#"+c.element+' input[name="_ajax_nonce"]').val()||d._wpnonce||a("#"+c.element+' input[name="_wpnonce"]').val()||0},parseClass:function(b,c){var d=[],e;try{e=a(b).attr("class")||"";e=e.match(new RegExp(c+":[\\S]+"));e&&(d=e[0].split(":"))}catch(f){}return d},pre:function(b,c,d){var e,f;c=a.extend({},this.wpList.settings,{element:null,nonce:0,target:b.get(0)},c||{});if(a.isFunction(c.confirm)){if("add"!=d){e=a("#"+c.element).css("backgroundColor");a("#"+c.element).css("backgroundColor","#FF9966")}f=c.confirm.call(this,b,c,d,e);"add"!=d&&a("#"+c.element).css("backgroundColor",e);if(!f)return!1}return c},ajaxAdd:function(b,d){b=a(b);d=d||{};var e=this,f=c.parseClass(b,"add"),g,h,i,j,k;d=c.pre.call(e,b,d,"add");d.element=f[2]||b.attr("id")||d.element||null;f[3]?d.addColor="#"+f[3]:d.addColor=d.addColor||"#FFFF33";if(!d)return!1;if(!b.is('[class^="add:'+e.id+':"]'))return!c.add.call(e,b,d);if(!d.element)return!0;d.action="add-"+d.what;d.nonce=c.nonce(b,d);g=a("#"+d.element+" :input").not('[name="_ajax_nonce"], [name="_wpnonce"], [name="action"]');h=wpAjax.validateForm("#"+d.element);if(!h)return!1;d.data=a.param(a.extend({_ajax_nonce:d.nonce,action:d.action},wpAjax.unserialize(f[4]||"")));i=a.isFunction(g.fieldSerialize)?g.fieldSerialize():g.serialize();i&&(d.data+="&"+i);if(a.isFunction(d.addBefore)){d=d.addBefore(d);if(!d)return!0}if(!d.data.match(/_ajax_nonce=[a-f0-9]+/))return!0;d.success=function(b){j=wpAjax.parseAjaxResponse(b,d.response,d.element);k=b;if(!j||j.errors)return!1;if(!0===j)return!0;jQuery.each(j.responses,function(){c.add.call(e,this.data,a.extend({},d,{pos:this.position||0,id:this.id||0,oldId:this.oldId||null}))});e.wpList.recolor();a(e).trigger("wpListAddEnd",[d,e.wpList]);c.clear.call(e,"#"+d.element)};d.complete=function(b,c){if(a.isFunction(d.addAfter)){var e=a.extend({xml:b,status:c,parsed:j},d);d.addAfter(k,e)}};a.ajax(d);return!1},ajaxDel:function(b,d){b=a(b);d=d||{};var e=this,f=c.parseClass(b,"delete"),g,h,i;d=c.pre.call(e,b,d,"delete");d.element=f[2]||d.element||null;f[3]?d.delColor="#"+f[3]:d.delColor=d.delColor||"#faa";if(!d||!d.element)return!1;d.action="delete-"+d.what;d.nonce=c.nonce(b,d);d.data=a.extend({action:d.action,id:d.element.split("-").pop(),_ajax_nonce:d.nonce},wpAjax.unserialize(f[4]||""));if(a.isFunction(d.delBefore)){d=d.delBefore(d,e);if(!d)return!0}if(!d.data._ajax_nonce)return!0;g=a("#"+d.element);if("none"!=d.delColor)g.css("backgroundColor",d.delColor).fadeOut(350,function(){e.wpList.recolor();a(e).trigger("wpListDelEnd",[d,e.wpList])});else{e.wpList.recolor();a(e).trigger("wpListDelEnd",[d,e.wpList])}d.success=function(b){h=wpAjax.parseAjaxResponse(b,d.response,d.element);i=b;if(!h||h.errors){g.stop().stop().css("backgroundColor","#faa").show().queue(function(){e.wpList.recolor();a(this).dequeue()});return!1}};d.complete=function(b,c){a.isFunction(d.delAfter)&&g.queue(function(){var e=a.extend({xml:b,status:c,parsed:h},d);d.delAfter(i,e)}).dequeue()};a.ajax(d);return!1},ajaxDim:function(b,d){if(a(b).parent().css("display")=="none")return!1;b=a(b);d=d||{};var e=this,f=c.parseClass(b,"dim"),g,h,i,j,k,l;d=c.pre.call(e,b,d,"dim");d.element=f[2]||d.element||null;d.dimClass=f[3]||d.dimClass||null;f[4]?d.dimAddColor="#"+f[4]:d.dimAddColor=d.dimAddColor||"#FFFF33";f[5]?d.dimDelColor="#"+f[5]:d.dimDelColor=d.dimDelColor||"#FF3333";if(!d||!d.element||!d.dimClass)return!0;d.action="dim-"+d.what;d.nonce=c.nonce(b,d);d.data=a.extend({action:d.action,id:d.element.split("-").pop(),dimClass:d.dimClass,_ajax_nonce:d.nonce},wpAjax.unserialize(f[6]||""));if(a.isFunction(d.dimBefore)){d=d.dimBefore(d);if(!d)return!0}g=a("#"+d.element);h=g.toggleClass(d.dimClass).is("."+d.dimClass);i=c.getColor(g);g.toggleClass(d.dimClass);j=h?d.dimAddColor:d.dimDelColor;"none"!=j?g.animate({backgroundColor:j},"fast").queue(function(){g.toggleClass(d.dimClass);a(this).dequeue()}).animate({backgroundColor:i},{complete:function(){a(this).css("backgroundColor","");a(e).trigger("wpListDimEnd",[d,e.wpList])}}):a(e).trigger("wpListDimEnd",[d,e.wpList]);if(!d.data._ajax_nonce)return!0;d.success=function(b){k=wpAjax.parseAjaxResponse(b,d.response,d.element);l=b;if(!k||k.errors){g.stop().stop().css("backgroundColor","#FF3333")[h?"removeClass":"addClass"](d.dimClass).show().queue(function(){e.wpList.recolor();a(this).dequeue()});return!1}};d.complete=function(b,c){a.isFunction(d.dimAfter)&&g.queue(function(){var e=a.extend({xml:b,status:c,parsed:k},d);d.dimAfter(l,e)}).dequeue()};a.ajax(d);return!1},getColor:function(a){var b=jQuery(a).css("backgroundColor");return b||"#ffffff"},add:function(b,d){b=a(b);var e=a(this),f=!1,g={pos:0,id:0,oldId:null},h,i,j;"string"==typeof d&&(d={what:d});d=a.extend(g,this.wpList.settings,d);if(!b.size()||!d.what)return!1;d.oldId&&(f=a("#"+d.what+"-"+d.oldId));d.id&&(d.id!=d.oldId||!f||!f.size())&&a("#"+d.what+"-"+d.id).remove();if(f&&f.size()){f.before(b);f.remove()}else if(isNaN(d.pos)){h="after";if("-"==d.pos.substr(0,1)){d.pos=d.pos.substr(1);h="before"}i=e.find("#"+d.pos);1===i.size()?i[h](b):e.append(b)}else if("comment"!=d.what||0===a("#"+d.element).length)d.pos<0?e.prepend(b):e.append(b);d.alt&&((e.children(":visible").index(b[0])+d.altOffset)%2?b.removeClass(d.alt):b.addClass(d.alt));if("none"!=d.addColor){j=c.getColor(b);b.css("backgroundColor",d.addColor).animate({backgroundColor:j},{complete:function(){a(this).css("backgroundColor","")}})}e.each(function(){this.wpList.process(b)});return b},clear:function(b){var c=this,d,e;b=a(b);if(c.wpList&&b.parents("#"+c.id).size())return;b.find(":input").each(function(){if(a(this).parents(".form-no-clear").size())return;d=this.type.toLowerCase();e=this.tagName.toLowerCase();"text"==d||"password"==d||"textarea"==e?this.value="":"checkbox"==d||"radio"==d?this.checked=!1:"select"==e&&(this.selectedIndex=null)})},process:function(b){var c=this,d=a(b||document);d.delegate('form[class^="add:'+c.id+':"]',"submit",function(){return c.wpList.add(this)});d.delegate('[class^="add:'+c.id+':"]:not(form)',"click",function(){return c.wpList.add(this)});d.delegate('[class^="delete:'+c.id+':"]',"click",function(){return c.wpList.del(this)});d.delegate('[class^="dim:'+c.id+':"]',"click",function(){return c.wpList.dim(this)})},recolor:function(){var b=this,c,d;if(!b.wpList.settings.alt)return;c=a(".list-item:visible",b);c.size()||(c=a(b).children(":visible"));d=[":even",":odd"];b.wpList.settings.altOffset%2&&d.reverse();c.filter(d[0]).addClass(b.wpList.settings.alt).end().filter(d[1]).removeClass(b.wpList.settings.alt)},init:function(){var a=this;a.wpList.process=function(b){a.each(function(){this.wpList.process(b)})};a.wpList.recolor=function(){a.each(function(){this.wpList.recolor()})}}};a.fn.wpList=function(d){this.each(function(){var e=this;this.wpList={settings:a.extend({},c.settings,{what:c.parseClass(this,"list")[1]||""},d)};a.each(b,function(a,b){e.wpList[a]=function(a,d){return c[b].call(e,a,d)}})});c.init.call(this);this.wpList.process();return this}})(jQuery);