// use jQuery and hoverIntent if loaded
if(typeof jQuery!="undefined"){typeof jQuery.fn.hoverIntent=="undefined"&&function(a){a.fn.hoverIntent=function(b,c){var d={sensitivity:7,interval:100,timeout:0};d=a.extend(d,c?{over:b,out:c}:b);var e,f,g,h,i=function(a){e=a.pageX;f=a.pageY},j=function(b,c){c.hoverIntent_t=clearTimeout(c.hoverIntent_t);if(Math.abs(g-e)+Math.abs(h-f)<d.sensitivity){a(c).unbind("mousemove",i);c.hoverIntent_s=1;return d.over.apply(c,[b])}g=e;h=f;c.hoverIntent_t=setTimeout(function(){j(b,c)},d.interval)},k=function(a,b){b.hoverIntent_t=clearTimeout(b.hoverIntent_t);b.hoverIntent_s=0;return d.out.apply(b,[a])},l=function(b){var c=this,d=(b.type=="mouseover"?b.fromElement:b.toElement)||b.relatedTarget;while(d&&d!=this)try{d=d.parentNode}catch(b){d=this}if(d==this){a.browser.mozilla&&(b.type=="mouseout"?c.mtout=setTimeout(function(){m(b,c)},30):c.mtout&&(c.mtout=clearTimeout(c.mtout)));return}c.mtout&&(c.mtout=clearTimeout(c.mtout));m(b,c)},m=function(b,c){var e=jQuery.extend({},b);c.hoverIntent_t&&(c.hoverIntent_t=clearTimeout(c.hoverIntent_t));if(b.type=="mouseover"){g=e.pageX;h=e.pageY;a(c).bind("mousemove",i);c.hoverIntent_s!=1&&(c.hoverIntent_t=setTimeout(function(){j(e,c)},d.interval))}else{a(c).unbind("mousemove",i);c.hoverIntent_s==1&&(c.hoverIntent_t=setTimeout(function(){k(e,c)},d.timeout))}};return this.mouseover(l).mouseout(l)}}(jQuery);jQuery(document).ready(function(a){var b=function(b,c){var d=a(c),e=d.attr("tabindex");e&&d.attr("tabindex","0").attr("tabindex",e)};a("#wpadminbar").removeClass("nojq").removeClass("nojs").find("li.menupop").hoverIntent({over:function(b){a(this).addClass("hover")},out:function(b){a(this).removeClass("hover")},timeout:180,sensitivity:7,interval:100});a("#wp-admin-bar-get-shortlink").click(function(b){b.preventDefault();a(this).addClass("selected").children(".shortlink-input").blur(function(){a(this).parents("#wp-admin-bar-get-shortlink").removeClass("selected")}).focus().select()});a("#wpadminbar li.menupop > .ab-item").bind("keydown.adminbar",function(c){if(c.which!=13)return;var d=a(c.target),e=d.closest("ab-sub-wrapper");c.stopPropagation();c.preventDefault();e.length||(e=a("#wpadminbar .quicklinks"));e.find(".menupop").removeClass("hover");d.parent().toggleClass("hover");d.siblings(".ab-sub-wrapper").find(".ab-item").each(b)}).each(b);a("#wpadminbar .ab-item").bind("keydown.adminbar",function(c){if(c.which!=27)return;var d=a(c.target);c.stopPropagation();c.preventDefault();d.closest(".hover").removeClass("hover").children(".ab-item").focus();d.siblings(".ab-sub-wrapper").find(".ab-item").each(b)});a("#wpadminbar").click(function(b){if(b.target.id!="wpadminbar"&&b.target.id!="wp-admin-bar-top-secondary")return;b.preventDefault();a("html, body").animate({scrollTop:0},"fast")})})}else(function(a,b){var c=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,function(){return c.call(a,window.event)})},d,e=new RegExp("\\bhover\\b","g"),f=[],g=new RegExp("\\bselected\\b","g"),h=function(a){var b=f.length;while(b--)if(f[b]&&a==f[b][1])return f[b][0];return!1},i=function(b){var c,i,j,k,l,m,n=[],o=0;while(b&&b!=d&&b!=a){if("LI"==b.nodeName.toUpperCase()){n[n.length]=b;i=h(b);i&&clearTimeout(i);b.className=b.className?b.className.replace(e,"")+" hover":"hover";k=b}b=b.parentNode}if(k&&k.parentNode){l=k.parentNode;if(l&&"UL"==l.nodeName.toUpperCase()){c=l.childNodes.length;while(c--){m=l.childNodes[c];m!=k&&(m.className=m.className?m.className.replace(g,""):"")}}}c=f.length;while(c--){j=!1;o=n.length;while(o--)n[o]==f[c][1]&&(j=!0);j||(f[c][1].className=f[c][1].className?f[c][1].className.replace(e,""):"")}},j=function(b){while(b&&b!=d&&b!=a){"LI"==b.nodeName.toUpperCase()&&function(a){var b=setTimeout(function(){a.className=a.className?a.className.replace(e,""):""},500);f[f.length]=[b,a]}(b);b=b.parentNode}},k=function(b){var c,e,f,h=b.target||b.srcElement;for(;;){if(!h||h==a||h==d)return;if(h.id&&h.id=="wp-admin-bar-get-shortlink")break;h=h.parentNode}b.preventDefault&&b.preventDefault();b.returnValue=!1;-1==h.className.indexOf("selected")&&(h.className+=" selected");for(c=0,e=h.childNodes.length;c<e;c++){f=h.childNodes[c];if(f.className&&-1!=f.className.indexOf("shortlink-input")){f.focus();f.select();f.onblur=function(){h.className=h.className?h.className.replace(g,""):""};break}}return!1},l=function(a){var b,c,d,e,f,g;if(a.id!="wpadminbar"&&a.id!="wp-admin-bar-top-secondary")return;b=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;if(b<1)return;g=b>800?130:100;c=Math.min(12,Math.round(b/g));d=b>800?Math.round(b/30):Math.round(b/20);e=[];f=0;while(b){b-=d;b<0&&(b=0);e.push(b);setTimeout(function(){window.scrollTo(0,e.shift())},f*c);f++}};c(b,"load",function(){d=a.getElementById("wpadminbar");if(a.body&&d){a.body.appendChild(d);d.className&&(d.className=d.className.replace(/nojs/,""));c(d,"mouseover",function(a){i(a.target||a.srcElement)});c(d,"mouseout",function(a){j(a.target||a.srcElement)});c(d,"click",k);c(d,"click",function(a){l(a.target||a.srcElement)})}b.location.hash&&b.scrollBy(0,-32)})})(document,window);