var showNotice,adminMenu,columns,validateForm,screenMeta;(function(e){adminMenu={init:function(){},fold:function(){},restoreMenuState:function(){},toggle:function(){},favorites:function(){}};columns={init:function(){var t=this;e(".hide-column-tog","#adv-settings").click(function(){var n=e(this),r=n.val();n.prop("checked")?t.checked(r):t.unchecked(r);columns.saveManageColumnsState()})},saveManageColumnsState:function(){var t=this.hidden();e.post(ajaxurl,{action:"hidden-columns",hidden:t,screenoptionnonce:e("#screenoptionnonce").val(),page:pagenow})},checked:function(t){e(".column-"+t).show();this.colSpanChange(1)},unchecked:function(t){e(".column-"+t).hide();this.colSpanChange(-1)},hidden:function(){return e(".manage-column").filter(":hidden").map(function(){return this.id}).get().join(",")},useCheckboxesForHidden:function(){this.hidden=function(){return e(".hide-column-tog").not(":checked").map(function(){var e=this.id;return e.substring(e,e.length-5)}).get().join(",")}},colSpanChange:function(t){var n=e("table").find(".colspanchange"),r;if(!n.length)return;r=parseInt(n.attr("colspan"),10)+t;n.attr("colspan",r.toString())}};e(document).ready(function(){columns.init()});validateForm=function(t){return!e(t).find(".form-required").filter(function(){return e("input:visible",this).val()==""}).addClass("form-invalid").find("input:visible").change(function(){e(this).closest(".form-invalid").removeClass("form-invalid")}).size()};showNotice={warn:function(){var e=commonL10n.warnDelete||"";return confirm(e)?!0:!1},note:function(e){alert(e)}};screenMeta={element:null,toggles:null,page:null,init:function(){this.element=e("#screen-meta");this.toggles=e(".screen-meta-toggle a");this.page=e("#wpcontent");this.toggles.click(this.toggleEvent)},toggleEvent:function(t){var n=e(this.href.replace(/.+#/,"#"));t.preventDefault();if(!n.length)return;n.is(":visible")?screenMeta.close(n,e(this)):screenMeta.open(n,e(this))},open:function(t,n){e(".screen-meta-toggle").not(n.parent()).css("visibility","hidden");t.parent().show();t.slideDown("fast",function(){n.addClass("screen-meta-active")})},close:function(t,n){t.slideUp("fast",function(){n.removeClass("screen-meta-active");e(".screen-meta-toggle").css("visibility","");t.parent().hide()})}};e(".contextual-help-tabs").delegate("a","click focus",function(t){var n=e(this),r;t.preventDefault();if(n.is(".active a"))return!1;e(".contextual-help-tabs .active").removeClass("active");n.parent("li").addClass("active");r=e(n.attr("href"));e(".help-tab-content").not(r).removeClass("active").hide();r.addClass("active").show()});e(document).ready(function(){var t=!1,n,r,i,s,o=e("#adminmenu"),u=e("input.current-page"),f=u.val(),l;l=function(t,n){var r=e(n),i=r.attr("tabindex");i&&r.attr("tabindex","0").attr("tabindex",i)};e("#collapse-menu",o).click(function(){var t=e(document.body);e("#adminmenu div.wp-submenu").css("margin-top","");if(t.hasClass("folded")){t.removeClass("folded");setUserSetting("mfold","o")}else{t.addClass("folded");setUserSetting("mfold","f")}return!1});e("li.wp-has-submenu",o).hoverIntent({over:function(t){var n,r,i,s,u=e(this).find(".wp-submenu"),f,l,c;if(u.is(":visible"))return;f=e(this).offset().top;l=e(window).scrollTop();c=f-l-30;n=f+u.height()+1;r=e("#wpwrap").height();i=60+n-r;s=e(window).height()+l-15;s<n-i&&(i=n-s);i>c&&(i=c);i>1?u.css("margin-top","-"+i+"px"):u.css("margin-top","");o.find(".wp-submenu").removeClass("sub-open");u.addClass("sub-open")},out:function(){e(this).find(".wp-submenu").removeClass("sub-open").css("margin-top","")},timeout:200,sensitivity:7,interval:90});e("li.wp-has-submenu > a.wp-not-current-submenu",o).bind("keydown.adminmenu",function(t){if(t.which!=13)return;var n=e(t.target);t.stopPropagation();t.preventDefault();o.find(".wp-submenu").removeClass("sub-open");n.siblings(".wp-submenu").toggleClass("sub-open").find('a[role="menuitem"]').each(l)}).each(l);e('a[role="menuitem"]',o).bind("keydown.adminmenu",function(t){if(t.which!=27)return;var n=e(t.target);t.stopPropagation();t.preventDefault();n.add(n.siblings()).closest(".sub-open").removeClass("sub-open").siblings("a.wp-not-current-submenu").focus()});e("div.wrap h2:first").nextAll("div.updated, div.error").addClass("below-h2");e("div.updated, div.error").not(".below-h2, .inline").insertAfter(e("div.wrap h2:first"));screenMeta.init();e("tbody").children().children(".check-column").find(":checkbox").click(function(o){if("undefined"==o.shiftKey)return!0;if(o.shiftKey){if(!t)return!0;n=e(t).closest("form").find(":checkbox");r=n.index(t);i=n.index(this);s=e(this).prop("checked");0<r&&0<i&&r!=i&&n.slice(r,i).prop("checked",function(){return e(this).closest("tr").is(":visible")?s:!1})}t=this;return!0});e("thead, tfoot").find(".check-column :checkbox").click(function(t){var n=e(this).prop("checked"),r="undefined"==typeof toggleWithKeyboard?!1:toggleWithKeyboard,i=t.shiftKey||r;e(this).closest("table").children("tbody").filter(":visible").children().children(".check-column").find(":checkbox").prop("checked",function(){return e(this).closest("tr").is(":hidden")?!1:i?e(this).prop("checked"):n?!0:!1});e(this).closest("table").children("thead,  tfoot").filter(":visible").children().children(".check-column").find(":checkbox").prop("checked",function(){return i?!1:n?!0:!1})});e("#default-password-nag-no").click(function(){setUserSetting("default_password_nag","hide");e("div.default-password-nag").hide();return!1});e("#newcontent").bind("keydown.wpevent_InsertTab",function(e){if(e.keyCode!=9)return!0;var t=e.target,n=t.selectionStart,r=t.selectionEnd,i=t.value,s,o;try{this.lastKey=9}catch(u){}if(document.selection){t.focus();o=document.selection.createRange();o.text="	"}else if(n>=0){s=this.scrollTop;t.value=i.substring(0,n).concat("	",i.substring(r));t.selectionStart=t.selectionEnd=n+1;this.scrollTop=s}e.stopPropagation&&e.stopPropagation();e.preventDefault&&e.preventDefault()});e("#newcontent").bind("blur.wpevent_InsertTab",function(e){this.lastKey&&9==this.lastKey&&this.focus()});u.length&&u.closest("form").submit(function(t){e('select[name="action"]').val()==-1&&e('select[name="action2"]').val()==-1&&u.val()==f&&u.val("1")})});e(document).bind("wp_CloseOnEscape",function(e,t){if(typeof t.cb!="function")return;(typeof t.condition!="function"||t.condition())&&t.cb();return!0})})(jQuery);