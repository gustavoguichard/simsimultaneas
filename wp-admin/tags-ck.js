jQuery(document).ready(function(a){a(".delete-tag").live("click",function(b){var c=a(this),d=c.parents("tr"),e=!0,f;"undefined"!=showNotice&&(e=showNotice.warn());if(e){f=c.attr("href").replace(/[^?]*\?/,"").replace(/action=delete/,"action=delete-tag");a.post(ajaxurl,f,function(b){if("1"==b){a("#ajax-response").empty();d.fadeOut("normal",function(){d.remove()});a('select#parent option[value="'+f.match(/tag_ID=(\d+)/)[1]+'"]').remove();a("a.tag-link-"+f.match(/tag_ID=(\d+)/)[1]).remove()}else if("-1"==b){a("#ajax-response").empty().append('<div class="error"><p>'+tagsl10n.noPerm+"</p></div>");d.children().css("backgroundColor","")}else{a("#ajax-response").empty().append('<div class="error"><p>'+tagsl10n.broken+"</p></div>");d.children().css("backgroundColor","")}});d.children().css("backgroundColor","#f33")}return!1});a("#submit").click(function(){var b=a(this).parents("form");if(!validateForm(b))return!1;a.post(ajaxurl,a("#addtag").serialize(),function(c){a("#ajax-response").empty();var d=wpAjax.parseAjaxResponse(c,"ajax-response");if(!d||d.errors)return;var e=b.find("select#parent").val();e>0&&a("#tag-"+e).length>0?a(".tags #tag-"+e).after(d.responses[0].supplemental.noparents):a(".tags").prepend(d.responses[0].supplemental.parents);a(".tags .no-items").remove();if(b.find("select#parent")){var f=d.responses[1].supplemental,g="";for(var h=0;h<d.responses[1].position;h++)g+="&nbsp;&nbsp;&nbsp;";b.find("select#parent option:selected").after('<option value="'+f.term_id+'">'+g+f.name+"</option>")}a('input[type="text"]:visible, textarea:visible',b).val("")});return!1})});