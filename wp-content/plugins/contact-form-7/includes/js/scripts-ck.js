(function($){$(function(){try{if(typeof _wpcf7=="undefined"||_wpcf7===null)_wpcf7={};_wpcf7=$.extend({cached:0},_wpcf7);$("div.wpcf7 > form").ajaxForm({beforeSubmit:function(e,t,n){t.wpcf7ClearResponseOutput();t.find("img.ajax-loader").css({visibility:"visible"});return!0},beforeSerialize:function(e,t){e.find(".wpcf7-use-title-as-watermark.watermark").each(function(e,t){$(t).val("")});return!0},data:{_wpcf7_is_ajax_call:1},dataType:"json",success:function(data){var ro=$(data.into).find("div.wpcf7-response-output");$(data.into).wpcf7ClearResponseOutput();$(data.into).find(".wpcf7-form-control").removeClass("wpcf7-not-valid");$(data.into).find("form.wpcf7-form").removeClass("invalid spam sent failed");data.captcha&&$(data.into).wpcf7RefillCaptcha(data.captcha);data.quiz&&$(data.into).wpcf7RefillQuiz(data.quiz);if(data.invalids){$.each(data.invalids,function(e,t){$(data.into).find(t.into).wpcf7NotValidTip(t.message);$(data.into).find(t.into).find(".wpcf7-form-control").addClass("wpcf7-not-valid")});ro.addClass("wpcf7-validation-errors");$(data.into).find("form.wpcf7-form").addClass("invalid")}else if(1==data.spam){ro.addClass("wpcf7-spam-blocked");$(data.into).find("form.wpcf7-form").addClass("spam")}else if(1==data.mailSent){ro.addClass("wpcf7-mail-sent-ok");$(data.into).find("form.wpcf7-form").addClass("sent");data.onSentOk&&$.each(data.onSentOk,function(i,n){eval(n)})}else{ro.addClass("wpcf7-mail-sent-ng");$(data.into).find("form.wpcf7-form").addClass("failed")}data.onSubmit&&$.each(data.onSubmit,function(i,n){eval(n)});1==data.mailSent&&$(data.into).find("form").resetForm().clearForm();$(data.into).find(".wpcf7-use-title-as-watermark.watermark").each(function(e,t){$(t).val($(t).attr("title"))});$(data.into).wpcf7FillResponseOutput(data.message)}});$("div.wpcf7 > form").each(function(e,t){_wpcf7.cached&&$(t).wpcf7OnloadRefill();$(t).wpcf7ToggleSubmit();$(t).find(".wpcf7-submit").wpcf7AjaxLoader();$(t).find(".wpcf7-acceptance").click(function(){$(t).wpcf7ToggleSubmit()});$(t).find(".wpcf7-exclusive-checkbox").each(function(e,t){$(t).find("input:checkbox").click(function(){$(t).find("input:checkbox").not(this).removeAttr("checked")})});$(t).find(".wpcf7-use-title-as-watermark").each(function(e,t){var n=$(t);n.val(n.attr("title"));n.addClass("watermark");n.focus(function(){$(this).hasClass("watermark")&&$(this).val("").removeClass("watermark")});n.blur(function(){""==$(this).val()&&$(this).val($(this).attr("title")).addClass("watermark")})})})}catch(e){}});$.fn.wpcf7AjaxLoader=function(){return this.each(function(){var e=$('<img class="ajax-loader" />').attr({src:_wpcf7.loaderUrl,alt:_wpcf7.sending}).css("visibility","hidden");$(this).after(e)})};$.fn.wpcf7ToggleSubmit=function(){return this.each(function(){var e=$(this);this.tagName.toLowerCase()!="form"&&(e=$(this).find("form").first());if(e.hasClass("wpcf7-acceptance-as-validation"))return;var t=e.find("input:submit");if(!t.length)return;var n=e.find("input:checkbox.wpcf7-acceptance");if(!n.length)return;t.removeAttr("disabled");n.each(function(e,n){n=$(n);(n.hasClass("wpcf7-invert")&&n.is(":checked")||!n.hasClass("wpcf7-invert")&&!n.is(":checked"))&&t.attr("disabled","disabled")})})};$.fn.wpcf7NotValidTip=function(e){return this.each(function(){var t=$(this);t.append('<span class="wpcf7-not-valid-tip">'+e+"</span>");$("span.wpcf7-not-valid-tip").mouseover(function(){$(this).fadeOut("fast")});t.find(":input").mouseover(function(){t.find(".wpcf7-not-valid-tip").not(":hidden").fadeOut("fast")});t.find(":input").focus(function(){t.find(".wpcf7-not-valid-tip").not(":hidden").fadeOut("fast")})})};$.fn.wpcf7OnloadRefill=function(){return this.each(function(){var e=$(this).attr("action");0<e.indexOf("#")&&(e=e.substr(0,e.indexOf("#")));var t=$(this).find('input[name="_wpcf7"]').val(),n=$(this).find('input[name="_wpcf7_unit_tag"]').val();$.getJSON(e,{_wpcf7_is_ajax_call:1,_wpcf7:t},function(e){e&&e.captcha&&$("#"+n).wpcf7RefillCaptcha(e.captcha);e&&e.quiz&&$("#"+n).wpcf7RefillQuiz(e.quiz)})})};$.fn.wpcf7RefillCaptcha=function(e){return this.each(function(){var t=$(this);$.each(e,function(e,n){t.find(':input[name="'+e+'"]').clearFields();t.find("img.wpcf7-captcha-"+e).attr("src",n);var r=/([0-9]+)\.(png|gif|jpeg)$/.exec(n);t.find('input:hidden[name="_wpcf7_captcha_challenge_'+e+'"]').attr("value",r[1])})})};$.fn.wpcf7RefillQuiz=function(e){return this.each(function(){var t=$(this);$.each(e,function(e,n){t.find(':input[name="'+e+'"]').clearFields();t.find(':input[name="'+e+'"]').siblings("span.wpcf7-quiz-label").text(n[0]);t.find('input:hidden[name="_wpcf7_quiz_answer_'+e+'"]').attr("value",n[1])})})};$.fn.wpcf7ClearResponseOutput=function(){return this.each(function(){$(this).find("div.wpcf7-response-output").hide().empty().removeClass("wpcf7-mail-sent-ok wpcf7-mail-sent-ng wpcf7-validation-errors wpcf7-spam-blocked");$(this).find("span.wpcf7-not-valid-tip").remove();$(this).find("img.ajax-loader").css({visibility:"hidden"})})};$.fn.wpcf7FillResponseOutput=function(e){return this.each(function(){$(this).find("div.wpcf7-response-output").append(e).slideDown("fast")})}})(jQuery);